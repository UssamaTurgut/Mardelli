@inherits LayoutComponentBase
@using System.Globalization

<div class="page">
    <div class="sidebar">
        <NavMenu Culture="@_culture" />
    </div>
    <main>
        <div class="top-row px-4">
            <div class="d-flex gap-2 align-items-center">
                <span class="text-muted small">@(IsGerman ? "Sprache:" : "Dil:")</span>
                <a href="?culture=de" class="@(_culture == "de" ? "fw-bold" : "")">DE</a>
                <span>|</span>
                <a href="?culture=tr" class="@(_culture == "tr" ? "fw-bold" : "")">TR</a>
            </div>
            <AuthorizeView>
                <Authorized>
                    <span class="text-muted small">@context.User.Identity?.Name</span>
                    <a href="/Account/Logout">@(IsGerman ? "Abmelden" : "Çıkış")</a>
                </Authorized>
                <NotAuthorized>
                    <a href="/Account/Login">@(IsGerman ? "Anmelden" : "Giriş")</a>
                    <a href="/Account/Register">@(IsGerman ? "Registrieren" : "Kayıt")</a>
                </NotAuthorized>
            </AuthorizeView>
        </div>
        <article class="content px-4">
            <HeadOutlet />
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
            <link rel="preconnect" href="https://fonts.googleapis.com" />
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
            <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap" rel="stylesheet" />
            <link rel="stylesheet" href="/css/app.css" />
            @Body
        </article>
    </main>
</div>

@code {
    private string _culture = CultureInfo.CurrentUICulture.TwoLetterISOLanguageName;
    private bool IsGerman => _culture == "de";
}
